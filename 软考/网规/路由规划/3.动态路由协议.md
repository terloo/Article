# 动态路由协议
路由器之间相互交换配置信息来创建路由表，并在链路和节点发生变化时，对路由表中的条目进行动态调整。

## 路由协议划分
1. 按作用范围
   1. 在自治系统(AS)内部，运行内部网关协议(RIP或OSPF)进行路由交换，称为域内路由选择(interdomain routing)  
   2. 自治系统之间使用外部网关协议(BGP-4)进行路由交换，称为域间路由选择(intradomain routing)
2. 按作用原理
   1. 距离矢量路由协议：RIP、BGP
   2. 链路状态路由协议：OSPF、IS-IS

## RIP协议
路由信息协议(RIP)是第一个路由协议。要求每个路由器都要维护从自身到目的网络的距离记录(跳数)，跳数最小的路由即是最佳路由。  
工作原理：
1. 每个路由器只与邻居路由器交换路由信息，以30s为周期向邻居路由器发送整个路由表，超时时间为180s(将超时路由器标记为16跳)，再经过120s后删除路由信息
2. 以跳数作为唯一衡量，根据跳数来选择最佳路由
3. 最大跳数为15跳，超过15跳视为不可达，故只能用于小型网络
4. 经过一系列路由更新，网络中的每个路由器都具有一张完整的路由表，称为收敛
路由更新流程：
1. 接收到路由表和跳数信息，直接将跳数加1
2. 如果路由表中是否有该条目，没有则更新自身路由信息
3. 跳数是否小于已存在的条目，小于则更新自身路由信息
4. 条目与原条目是否来自同一源地址，是则更新自身路由信息
5. 忽略该条目