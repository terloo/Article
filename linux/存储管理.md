# 存储管理

1. #### Buddy内存管理算法（伙伴系统）
   
   努力让内存分配和相邻内存的合并能快速进行。
   
   1. 内存分配原则
      
      将进程申请的内存向上取整为2的幂。
   
   2. 伙伴系统
      
      一片连续内存的“伙伴“是相邻的另一片大小相同的连续内存。
   
   3. 分配过程
      
      1. 创建一系列的空闲块链表，每种链表的大小均为2的幂。
      
      2. 将进程申请的内存向上取整为2的幂。
      
      3. 判断在该大小的链表上是否有空闲空间，如果有直接分配，如果没有向更大空间链表寻找。
      
      4. 寻找到空闲空间后将空间对半拆分，一半分配到对应的链表，判断剩下的一半是否刚好符合需求，直到符合为止。
   
   4. 回收过程
      
      1. 判断回收的内存是否有“伙伴”，如果有将其合并后添加至对应链表。
      
      2. 继续判断是否有“伙伴”，直到没有“伙伴”为止。
   
   > 1. Buddy算法是经典内存管理算法
   > 
   > 2. 算法基于计算机对二进制数据极快的处理速度
   > 
   > 3. 算法主要是为了解决**内存外碎片问题**

2. #### Linux交换空间
   
   1. 概念
      
      交换空间（Swap）是磁盘的一个分区。在物理内存满时，将会把一些内存交换到交换空间。Swap是在系统初始化时配置。
   
   2. 作用
      
      1. 冷启动内存依赖
      
      2. 系统睡眠依赖
      
      3. 大进程空间依赖
