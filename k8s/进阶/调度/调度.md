# 调度
调度，指将一个Pod分配到某个Node上创建容器的过程

## 调度分类
1. 普通调度：k8s内置的一系列供用户使用的规则，用户通过这些规则一定程度上(或者完全)控制Pod的调度结果，Pod的调度结果不会对其他Pod产生影响
   1. 指定节点进行调度：通过指定Node名或者标签的形式，直接将Pod调度到某个节点上
   2. 污点和容忍：通过配置污点和容忍，控制Pod调度到某些具有相似特性的节点上
   3. 亲和性调度：通过配置软硬亲和性，更加精细的控制(或尽量)将Pod调度到某些特性的节点上，或者某些具有某些特性Pod的节点上
   4. 拓扑域调度：在亲和性调度基础上，可以不用一定将Pod调度到依赖Pod同一个Node上，而是从依赖Pod所在的Node拓扑域中选择一个Node
   5. 容灾调度：将多个Pod均匀调度到不同的拓扑域中
2. 抢占式调度：在经过普通调度后，如果调度结果Node资源不足，k8s将会驱逐某些优先级等级较低的Pod
   1. priority：优先级，优先级高的Pod能抢占优先级低的Pod的资源
   2. Qos：服务质量等级，服务质量等级越低的Pod越会被优先抢占
3. 自定义调度：在k8s普通调度的基础上，通过添加插件的方式，自定义干预调度流程

## 调度因素
1. 公平调度：优先调度优先级高应用，公平调度优先级相同的应用
2. 资源高效利用
3. Qos
4. affinity和anti-affinity：亲和性和反亲和性
5. 数据本地化(data locality)：尽量将应用调度到数据已经本地化了的节点，使应用去匹配数据
6. 内部负载干扰(inter-workload interference)
7. deadlines